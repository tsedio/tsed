<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Platform Serverless | Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js.</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link canonical="https://tsed.io">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="apple-touch-icon">
    <link rel="icon" href="/apple-touch-icon.png" type="image/x-icon" sizes="180x180">
    <link rel="icon" href="/favicon-32x32.png" type="image/png" sizes="32x32">
    <link rel="icon" href="/favicon-16x16.png" type="image/png" sizes="16x16">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="preconnect" href="https://DH8VVM2E1E-dsn.algolia.net" crossOrigin="true">
    <meta name="description" content="Guide to deploy your Ts.ED application on AWS.">
    <meta name="keywords" content="ts.ed express typescript serverless aws function node.js javascript decorators">
    <meta property="og:url" content="https://tsed.io">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js.">
    <meta property="og:title" content="Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js.">
    <meta property="og:description" content="A Node.js and TypeScript Framework on top of Express/Koa.js. It provides a lot of decorators and guidelines to write your code.">
    <meta property="og:image" content="https://tsed.io/tsed-og.png">
    <meta property="og:image:width" content="1024">
    <meta property="og:image:height" content="1024">
    <meta name="twitter:title" content="Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js.">
    <meta name="twitter:description" content="A Node.js and TypeScript Framework on top of Express/Koa.js. It provides a lot of decorators and guidelines to write your code.">
    <meta name="twitter:card" content="summary">
    
    <link rel="preload" href="/assets/css/0.styles.ff092c60.css" as="style"><link rel="preload" href="/assets/js/app.dadcf6fb.js" as="script"><link rel="preload" href="/assets/js/2.6953d4db.js" as="script"><link rel="preload" href="/assets/js/41.6cd89c46.js" as="script"><link rel="prefetch" href="/assets/js/1.95ec48c5.js"><link rel="prefetch" href="/assets/js/10.d77d48b9.js"><link rel="prefetch" href="/assets/js/11.b2432467.js"><link rel="prefetch" href="/assets/js/12.b18f17cb.js"><link rel="prefetch" href="/assets/js/13.b8d9ca7c.js"><link rel="prefetch" href="/assets/js/14.83e770c7.js"><link rel="prefetch" href="/assets/js/15.68153c8b.js"><link rel="prefetch" href="/assets/js/16.80740a05.js"><link rel="prefetch" href="/assets/js/17.7af8973e.js"><link rel="prefetch" href="/assets/js/18.cdb083b8.js"><link rel="prefetch" href="/assets/js/19.0ba5c1b2.js"><link rel="prefetch" href="/assets/js/20.fbf4ef91.js"><link rel="prefetch" href="/assets/js/21.477bc744.js"><link rel="prefetch" href="/assets/js/22.562935e1.js"><link rel="prefetch" href="/assets/js/23.a75848a2.js"><link rel="prefetch" href="/assets/js/24.48b5016e.js"><link rel="prefetch" href="/assets/js/25.4126bf5b.js"><link rel="prefetch" href="/assets/js/26.1e41dd6e.js"><link rel="prefetch" href="/assets/js/27.02a03d60.js"><link rel="prefetch" href="/assets/js/28.4adf58b3.js"><link rel="prefetch" href="/assets/js/29.602336b4.js"><link rel="prefetch" href="/assets/js/30.b04521f6.js"><link rel="prefetch" href="/assets/js/31.de060a91.js"><link rel="prefetch" href="/assets/js/32.2d36ffc3.js"><link rel="prefetch" href="/assets/js/33.30673477.js"><link rel="prefetch" href="/assets/js/34.07db2b53.js"><link rel="prefetch" href="/assets/js/35.916aed74.js"><link rel="prefetch" href="/assets/js/36.67135c0c.js"><link rel="prefetch" href="/assets/js/37.60760718.js"><link rel="prefetch" href="/assets/js/38.9c20b6aa.js"><link rel="prefetch" href="/assets/js/39.89ca3d5d.js"><link rel="prefetch" href="/assets/js/4.0ad5ea60.js"><link rel="prefetch" href="/assets/js/40.cedd8e26.js"><link rel="prefetch" href="/assets/js/42.ce2a0a75.js"><link rel="prefetch" href="/assets/js/43.92ebf2c7.js"><link rel="prefetch" href="/assets/js/44.003b83b6.js"><link rel="prefetch" href="/assets/js/45.7bce63ec.js"><link rel="prefetch" href="/assets/js/46.aea7b5ac.js"><link rel="prefetch" href="/assets/js/47.a6d72610.js"><link rel="prefetch" href="/assets/js/48.0d015753.js"><link rel="prefetch" href="/assets/js/49.ac4eb9c0.js"><link rel="prefetch" href="/assets/js/5.6d3ffe76.js"><link rel="prefetch" href="/assets/js/50.95b3f4ef.js"><link rel="prefetch" href="/assets/js/51.19ddf7f4.js"><link rel="prefetch" href="/assets/js/52.8138a028.js"><link rel="prefetch" href="/assets/js/53.3024d081.js"><link rel="prefetch" href="/assets/js/54.3a70b5e5.js"><link rel="prefetch" href="/assets/js/55.611b0e19.js"><link rel="prefetch" href="/assets/js/56.65cd80fb.js"><link rel="prefetch" href="/assets/js/57.6260ba10.js"><link rel="prefetch" href="/assets/js/58.8c73d64b.js"><link rel="prefetch" href="/assets/js/59.5ab06d16.js"><link rel="prefetch" href="/assets/js/6.89664125.js"><link rel="prefetch" href="/assets/js/60.2e30f473.js"><link rel="prefetch" href="/assets/js/61.edb151a7.js"><link rel="prefetch" href="/assets/js/62.ad76be75.js"><link rel="prefetch" href="/assets/js/63.30101edb.js"><link rel="prefetch" href="/assets/js/64.66053a96.js"><link rel="prefetch" href="/assets/js/65.a3a43bec.js"><link rel="prefetch" href="/assets/js/66.bcef56a7.js"><link rel="prefetch" href="/assets/js/67.a80a1c84.js"><link rel="prefetch" href="/assets/js/68.d67baf04.js"><link rel="prefetch" href="/assets/js/69.386a1e04.js"><link rel="prefetch" href="/assets/js/7.d12b4159.js"><link rel="prefetch" href="/assets/js/70.a604556f.js"><link rel="prefetch" href="/assets/js/71.e028874a.js"><link rel="prefetch" href="/assets/js/72.c50c909b.js"><link rel="prefetch" href="/assets/js/73.4bb5f2e5.js"><link rel="prefetch" href="/assets/js/74.86bf4805.js"><link rel="prefetch" href="/assets/js/75.72dcf150.js"><link rel="prefetch" href="/assets/js/76.e8b5f76e.js"><link rel="prefetch" href="/assets/js/77.75aa3cc6.js"><link rel="prefetch" href="/assets/js/78.530f937a.js"><link rel="prefetch" href="/assets/js/79.4231d2a0.js"><link rel="prefetch" href="/assets/js/8.b3cfe34f.js"><link rel="prefetch" href="/assets/js/80.7216f014.js"><link rel="prefetch" href="/assets/js/81.513b138f.js"><link rel="prefetch" href="/assets/js/82.2414cc44.js"><link rel="prefetch" href="/assets/js/83.3f54a405.js"><link rel="prefetch" href="/assets/js/84.1089b7be.js"><link rel="prefetch" href="/assets/js/85.4bc8a774.js"><link rel="prefetch" href="/assets/js/86.559cf592.js"><link rel="prefetch" href="/assets/js/87.c5069f9d.js"><link rel="prefetch" href="/assets/js/88.8d8885a9.js"><link rel="prefetch" href="/assets/js/89.d3614c50.js"><link rel="prefetch" href="/assets/js/9.7a8296ab.js"><link rel="prefetch" href="/assets/js/90.929b8f10.js"><link rel="prefetch" href="/assets/js/91.cbc30664.js"><link rel="prefetch" href="/assets/js/92.9350a71e.js"><link rel="prefetch" href="/assets/js/93.379479ab.js"><link rel="prefetch" href="/assets/js/94.62b722f3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ff092c60.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="init"><div class="theme-container with-sidebar"><header class="navbar px-5 flex items-center navbar-box-shadow fixed top-0 fixed top-0 inset-x-0 h-16 bg-white"><div class="flex h-full items-center justify-center md:hidden"><div class="flex cursor-pointer text-xl mr-4"><i class="bx bx-menu"></i></div></div> <div class="flex h-full items-center justify-center m-0 p-0  mr-8"><a href="/" class="router-link-active"><!----> <span class="text-xl text-normal"><strong class="font-medium"><span class='text-blue'>Ts</span>.ED</strong></span></a></div> <div class="flex-1 h-full"><nav class="font-bold hidden lg:flex h-full"><ul class="flex items-center h-full text-gray-dark"><li class="mx-1 content-wrapper py-4"><a href="/getting-started/" title="Getting started | Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js." class="link internal px-3 p-1 hover:bg-blue hover:text-white transition-all rounded-small cursor-pointer"><!----> 
        Getting started
      </a></li><li class="mx-1 content-wrapper py-4"><a href="/getting-started/migration-from-v6.html" title="Migrate from v6 | Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js." class="link internal px-3 p-1 hover:bg-blue hover:text-white transition-all rounded-small cursor-pointer"><!----> 
        Migration
      </a></li><li class="mx-1 content-wrapper"><div class="dropdown-wrapper relative flex items-center h-full px-3 py-4 -hover"><div class="flex items-center h-full w-full"><a title="Documentation | Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js." class="flex items-center hover:text-gray-darker cursor-pointer transition-all duration-500 ease-in-out"><span>Documentation</span> <i class="bx bx-chevron-down"></i></a></div> <div class="nav-dropdown absolute text-gray-darker z-2"> <ul class="reset-list text-gray-darker"><li><!----> <a href="/docs/configuration.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Configuration</span></a></li><li class="mt-3"><!----> <a href="/docs/controllers.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Controllers</span></a></li><li class="mt-3"><!----> <a href="/docs/providers.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Providers</span></a></li><li class="mt-3"><!----> <a href="/docs/model.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Models</span></a></li><li class="mt-3"><!----> <a href="/docs/json-mapper.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Json Mapper</span></a></li><li class="mt-3"><!----> <a href="/docs/middlewares.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Middlewares</span></a></li><li class="mt-3"><!----> <a href="/docs/pipes.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Pipes</span></a></li><li class="mt-3"><!----> <a href="/docs/interceptors.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Interceptors</span></a></li><li class="mt-3"><!----> <a href="/docs/authentication.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Authentication</span></a></li><li class="mt-3"><!----> <a href="/docs/hooks.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Hooks</span></a></li><li class="mt-3"><!----> <a href="/docs/response-filter.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Response filter</span></a></li><li class="mt-3"><!----> <a href="/docs/exceptions.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Exceptions</span></a></li><li class="mt-3"><!----> <a href="/docs/logger.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Logger</span></a></li><li class="mt-3"><!----> <a href="/docs/request-context.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Context</span></a></li><li class="mt-3"><!----> <a href="/docs/cache.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Cache</span></a></li><li class="mt-3"><!----> <a href="/docs/platform-api.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Platform API</span></a></li><li class="mt-3"><!----> <a href="/docs/platform-serverless.html" aria-current="page" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all router-link-exact-active router-link-active"><!----> <span class="flex-1">Platform Serverless</span></a></li><li class="mt-3"><!----> <a href="/docs/command.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Command</span></a></li><li class="mt-3"><!----> <a href="/docs/templating.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Templating</span></a></li><li class="mt-3"><!----> <a href="/docs/validation.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Validation</span></a></li><li class="mt-3"><!----> <a href="/tutorials/session.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Session &amp; Cookies</span></a></li><li class="mt-3"><!----> <a href="/docs/testing.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Testing</span></a></li></ul></div></div></li><li class="mx-1 content-wrapper"><div class="dropdown-wrapper relative flex items-center h-full px-3 py-4 -hover"><div class="flex items-center h-full w-full"><a title="Warehouse | Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js." class="flex items-center hover:text-gray-darker cursor-pointer transition-all duration-500 ease-in-out"><span>Warehouse</span> <i class="bx bx-chevron-down"></i></a></div> <div class="nav-dropdown absolute text-gray-darker z-2"> <ul class="reset-list text-gray-darker"><li><!----> <a href="/warehouse/" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Explore plugins</span></a></li><li class="mt-3"><!----> <a href="/tutorials/" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Project examples</span></a></li></ul></div></div></li><li class="mx-1 content-wrapper"><div class="dropdown-wrapper relative flex items-center h-full px-3 py-4 -hover"><div class="flex items-center h-full w-full"><a title="Tutorials | Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js." class="flex items-center hover:text-gray-darker cursor-pointer transition-all duration-500 ease-in-out"><span>Tutorials</span> <i class="bx bx-chevron-down"></i></a></div> <div class="nav-dropdown absolute text-gray-darker z-2"> <ul class="reset-list text-gray-darker"><li><!----> <a href="/tutorials/ajv.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">AJV</span></a></li><li class="mt-3"><!----> <a href="/tutorials/aws.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">AWS</span></a></li><li class="mt-3"><!----> <a href="/tutorials/agenda.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Agenda</span></a></li><li class="mt-3"><!----> <a href="/tutorials/bullmq.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">BullMQ</span></a></li><li class="mt-3"><!----> <a href="/tutorials/graphql.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">GraphQL</span></a></li><li class="mt-3"><!----> <a href="/tutorials/ioredis.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">IORedis</span></a></li><li class="mt-3"><!----> <a href="/tutorials/jest.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Jest</span></a></li><li class="mt-3"><!----> <a href="/tutorials/keycloak.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Keycloak</span></a></li><li class="mt-3"><!----> <a href="/tutorials/mikroorm.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">MikroORM</span></a></li><li class="mt-3"><!----> <a href="/tutorials/mongoose.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Mongoose</span></a></li><li class="mt-3"><!----> <a href="/tutorials/oidc.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">OIDC</span></a></li><li class="mt-3"><!----> <a href="/tutorials/objection.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Objection.js</span></a></li><li class="mt-3"><!----> <a href="/tutorials/passport.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Passport.js</span></a></li><li class="mt-3"><!----> <a href="/tutorials/prisma.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Prisma</span></a></li><li class="mt-3"><!----> <a href="/tutorials/pulse.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Pulse</span></a></li><li class="mt-3"><!----> <a href="/tutorials/server-sent events.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Server-sent events</span></a></li><li class="mt-3"><!----> <a href="/tutorials/serverless.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Serverless</span></a></li><li class="mt-3"><!----> <a href="/tutorials/socket-io.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Socket.io</span></a></li><li class="mt-3"><!----> <a href="/tutorials/stripe.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Stripe</span></a></li><li class="mt-3"><!----> <a href="/tutorials/swagger.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Swagger</span></a></li><li class="mt-3"><!----> <a href="/tutorials/temporal.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Temporal</span></a></li><li class="mt-3"><!----> <a href="/tutorials/terminus.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Terminus</span></a></li><li class="mt-3"><!----> <a href="/tutorials/typeorm.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">TypeORM</span></a></li><li class="mt-3"><!----> <a href="/tutorials/vike.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Vike</span></a></li><li class="mt-3"><!----> <a href="/tutorials/vitest.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Vitest</span></a></li></ul></div></div></li><li class="mx-1 content-wrapper"><div class="dropdown-wrapper relative flex items-center h-full px-3 py-4 -hover"><div class="flex items-center h-full w-full"><a title="Extras" class="flex items-center hover:text-gray-darker cursor-pointer transition-all duration-500 ease-in-out"><span></span> <i class="bx bx-dots-horizontal-rounded text-lg"></i></a></div> <div class="nav-dropdown absolute text-gray-darker z-2"> <ul class="reset-list text-gray-darker"><li><!----> <a href="http://cli.tsed.io" target="_blank" rel="noopener noreferrer" class="link external flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><span class="flex-1">Ts.ED CLI</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="mt-3"><!----> <a href="http://logger.tsed.io" target="_blank" rel="noopener noreferrer" class="link external flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><span class="flex-1">Ts.ED Logger</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="mt-3"><!----> <a href="http://formio.tsed.io" target="_blank" rel="noopener noreferrer" class="link external flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><span class="flex-1">Ts.ED Formio.js</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="mt-3"><!----> <a href="/team.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Team</span></a></li><li class="mt-3"><!----> <a href="/tutorials/" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Resources</span></a></li><li class="mt-3"><!----> <a href="/contributing.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Contributes</span></a></li><li class="mt-3"><!----> <a href="/support.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Support</span></a></li><li class="mt-3"><!----> <a href="/contact.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">Contact</span></a></li><li class="mt-3"><!----> <a href="/license.html" class="link internal flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><!----> <span class="flex-1">License</span></a></li><li class="mt-3"><!----> <a href="https://api-docs.tsed.io/api.html" target="_blank" rel="noopener noreferrer" class="link external flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><span class="flex-1">Api reference</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div></li></ul></nav></div> <div class="flex h-full"><nav class="hidden sm:flex"><ul class="flex items-center h-full text-gray-dark"><li class="mx-1 content-wrapper"><div class="dropdown-wrapper relative flex items-center h-full px-3 py-4 -hover"><div class="flex items-center h-full w-full"><a title="Current version" class="flex items-center hover:text-gray-darker cursor-pointer transition-all duration-500 ease-in-out"><span>v7.83.4</span> <i class="bx bx-chevron-down"></i></a></div> <div class="nav-dropdown absolute text-gray-darker z-2"> <ul class="reset-list text-gray-darker"><li><!----> <a href="https://v6.tsed.io" target="_blank" rel="noopener noreferrer" class="link external flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><span class="flex-1">v6 (maintenance)</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="mt-3"><!----> <a href="http://v5.tsed.io" target="_blank" rel="noopener noreferrer" class="link external flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><span class="flex-1">v5 (obsolete)</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="mt-3"><!----> <a href="http://v4.tsed.io" target="_blank" rel="noopener noreferrer" class="link external flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><span class="flex-1">v4 (obsolete)</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div></li></ul></nav></div> <div class="flex items-center h-full"><a title="Github" href="https://github.com/tsedio/tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex flex align-center justify-center lg:text-lg py-4"><i class="bx bxl-github"></i> </a><a title="Slack" href="https://api.tsed.io/rest/slack/tsedio/tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex flex align-center justify-center lg:text-lg py-4"><i class="bx bxl-slack"></i> </a><a title="Twitter" href="https://twitter.com/TsED_io" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex flex align-center justify-center lg:text-lg py-4"><i class="bx bxl-twitter"></i> </a><a title="StackOverflow" href="https://stackoverflow.com/search?q=tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex flex align-center justify-center lg:text-lg py-4"><i class="bx bxl-stack-overflow"></i> </a><a title="Support us" href="https://tsed.io/support.html" target="_blank" rel="noopener noreferrer" show-title="true" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex flex align-center justify-center lg:text-lg py-4"><i class="bx bxs-heart"></i> <span class="hidden sm:block text-sm font-bold ml-1 mr-1">Support us</span></a></div> <div class="flex items-center h-full"><div id="docsearch"></div></div></header> <div class="sidebar-mask"></div> <main class="main-content relative z-2 pt-16"><div><div><div class="relative"><div class="page-header"><div class="bg-gray-lighter z-5 relative"><div class="page-header-container px-5 md:px-10 max-w-site m-auto flex items-center"><div class="flex-1"><div class="transition-all text-xl font-bold md:font-normal md:text-4xl">
          Platform Serverless
        </div></div> <ul class="flex items-center justify-center text-md -ml-2"><li title="Share"><!----></li> <!----> <li title="View Code Github" class="p-2"><a target="_blank" href="https://github.com/tsedio/tsed/blob/production/docs/docs/platform-serverless.md" class="hover:text-blue-active"><i class="bx bx-code-alt"></i></a></li> <li title="Edit Page" class="p-2"><a target="_blank" href="https://github.com/tsedio/tsed/edit/production/docs/docs/platform-serverless.md" class="hover:text-blue-active"><i class="bx bx-edit"></i></a></li> <li title="Report a Bug" class="p-2 last:pr-0"><a target="_blank" href="https://github.com/tsedio/tsed/issues/new?title=%5BBUG%5D%20Page%20Platform%20Serverless%20-%20%2Fdocs%2Fplatform-serverless" class="hover:text-blue-active"><i class="bx bx-bug"></i></a></li></ul></div></div></div></div> <div class="px-5 md:px-10 max-w-site m-auto"><div class="page-content"><article> <div class="content__default"><h1 id="platform-serverless"><a href="#platform-serverless" class="header-anchor">#</a> Platform Serverless</h1> <div class="flex justify-center items-center"><a href="https://aws.amazon.com/fr/" class="block m-auto p-5 rounded-full bg-" style="width:180px;height:180px;"><div class="h-full w-full bg-contain bg-no-repeat bg-center" style="background-image:url(https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Amazon_Web_Services_Logo.svg/langfr-220px-Amazon_Web_Services_Logo.svg.png);"></div> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Amazon_Web_Services_Logo.svg/langfr-220px-Amazon_Web_Services_Logo.svg.png" height="180" class="hidden"></a></div> <p>Ts.ED provides two packages to reach specific use cases:</p> <ul><li><code>@tsed/platform-serverless</code> to deploy optimized AWS Lambda functions,</li> <li><code>@tsed/platform-serverless-http</code> to deploy serverless applications with a full HTTP Server like Express.js or Koa.js.</li></ul> <p>This documentation will be essentially focused on the <code>@tsed/platform-serverless</code> package.</p> <p>For more information about the <code>@tsed/platform-serverless-http</code> package, please refer to
the <a href="/docs/platform-serverless-http.html">Serverless HTTP documentation</a>.</p> <h2 id="features"><a href="#features" class="header-anchor">#</a> Features</h2> <p>This package provides a way to deploy your Ts.ED application on AWS using the AWS API Gateway and AWS Lambda.
It's useful if you want to deploy your application on AWS without any dependencies on Express or Koa.</p> <p>This is the best choice if you want to deploy optimized AWS Lambda.</p> <p>Here the supported features:</p> <ul><li>Creating multiple lambda in one file,</li> <li>Support routing using find-my-way (the awesome router supported by Fastify),</li> <li>DI injection with <code>@tsed/di</code>,</li> <li>Models mapping using <code>@tsed/schema</code> and <code>@tsed/json-mapper</code>,</li> <li>Params decorators can be used from <code>@tsed/platform-params</code> to get Query, Body, etc...</li> <li>Response can be modified by using <code>@tsed/platform-response-filter</code>,</li> <li>All error can be handled by using <code>@tsed/platform-exceptions</code>,</li> <li>Operation descriptions like <code>@Returns</code>,</li> <li><code>@tsed/async-hook-context</code> to inject Context anywhere in your class!</li> <li>All ORM already available for other Ts.ED platform,</li> <li>All kind of lambda can be handled (APIGateway, Lambda Auth, SQS, etc...),</li> <li>Streaming response</li></ul> <h2 id="unsupported-features"><a href="#unsupported-features" class="header-anchor">#</a> Unsupported features</h2> <h3 id="middlewares"><a href="#middlewares" class="header-anchor">#</a> Middlewares</h3> <p>This mechanism is specific to Koa.js / Express.js and doesn't exist with the Serverless approach.</p> <p>Serverless provides a number of features such as Cors management via the configuration of <code>serverless.yml</code> and doesn't
need to use middleware. In addition, serverless <a href="https://www.serverless.com/plugins/" target="_blank" rel="noopener noreferrer">plugins<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> are also available and
allow you to manage advanced scenarios without having to develop anything!</p> <p>If you can't find what you are looking for on the Serverless side, you can use <code>@tsed/di</code>'
s <a href="/docs/interceptors.html">Interceptors</a> to decorate the methods and add shareable features.</p> <h3 id="passport-oidc-graphql-etc"><a href="#passport-oidc-graphql-etc" class="header-anchor">#</a> Passport/OIDC/GraphQL, etc.</h3> <p>Because middlewares aren't supported Passport.js, OIDC, GraphQL won't be usable in this platform either.</p> <h3 id="upload-files"><a href="#upload-files" class="header-anchor">#</a> Upload files</h3> <p>File upload isn't covered at this time. Any help is welcome to improve this platform 😃.</p> <h3 id="statics-files"><a href="#statics-files" class="header-anchor">#</a> Statics files</h3> <p>The goal of lambda isn't to expose static files. We do not plan to support this use in the near future.</p> <h2 id="rule"><a href="#rule" class="header-anchor">#</a> Rule</h2> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>By convention, try to not import something from <code>@tsed/common</code>. <code>@tsed/common</code> embed a lot of codes designed
for the Full server platform which are not necessary in the Serverless context and aren't optimized for it.</p> <p>The recent version of Ts.ED expose all necessary decorators from <code>@tsed/schema</code>, <code>@tsed/platform-params</code> or <code>@tsed/di</code>.
For example, <a href="" title="Get" class="reset-link symbol-container -bubble "><span><span class="symbol undefined"></span></span> <span class="overflow-hidden truncate ">
    Get
  </span></a> or <a href="" title="Post" class="reset-link symbol-container -bubble "><span><span class="symbol undefined"></span></span> <span class="overflow-hidden truncate ">
    Post
  </span></a> are commonly imported like this:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Get<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Now, you have to import the decorator from <code>@tsed/schema</code>.</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Get<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/schema&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <h2 id="projects-example"><a href="#projects-example" class="header-anchor">#</a> Projects example</h2> <div class="bg-gray-lighter rounded-small my-5  p-5"><div class="-m-3"><ul class="reset-list flex flex-wrap items-center"><li class="p-3"><a href="https://github.com/tsedio/tsed-aws-lambda" title="Terraform project" target="_blank" rel="noopener noreferrer" class="link external reset-link transition-all duration-500 ease-in-out relative no-underline hover:scale-110 text-xxs text-blue hover:text-blue-active"><figure class="flex items-center justify-center relative z-2 overflow-hidden rounded-medium mb-2 bg-white shadow-undefined p-undefined" style="width:65px;height:65px;"><img data-url="/terraform.png" class="w-full opacity-0 transition-all no-shadow"></figure> <!----> <span class="flex items-center justify-center whitespace-pre font-undefined" style="width:65px;">Terraform pr...</span> <!----></a></li><li class="p-3"><a href="https://github.com/tsedio/tsed-example-aws" title="Serverless project" target="_blank" rel="noopener noreferrer" class="link external reset-link transition-all duration-500 ease-in-out relative no-underline hover:scale-110 text-xxs text-blue hover:text-blue-active"><figure class="flex items-center justify-center relative z-2 overflow-hidden rounded-medium mb-2 bg-white shadow-undefined p-undefined" style="width:65px;height:65px;"><img data-url="/serverless.png" class="w-full opacity-0 transition-all no-shadow"></figure> <!----> <span class="flex items-center justify-center whitespace-pre font-undefined" style="width:65px;">Serverless p...</span> <!----></a></li></ul></div></div> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>The best option is to checkout the full terraform project available
on <a href="https://github.com/tsedio/tsed-aws-lambda" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
This quick start project provides:</p> <ul><li>Stack to build and deploy lambda using localstack,</li> <li>Monorepo structure to develop lambda, <a href="/docs/command.html">commands</a> and standard Ts.ED application,</li> <li>DynamoDB code example,</li> <li>Unit tests and e2e tests examples,</li> <li>GitHub actions to run tests,</li> <li>Terraform configuration to deploy lambda on AWS,</li> <li>Lambda Authorizer example.</li></ul> <p>It's also a full ESM stack!</p> <p>You can also start from an existing project or generate a new project with the CLI:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>tsed init <span class="token builtin class-name">.</span>
? Choose the target platform: Express.js
? Choose the architecture <span class="token keyword">for</span> your project: Ts.ED
? Choose the convention <span class="token function">file</span> styling: Ts.ED
? Check the features needed <span class="token keyword">for</span> your project Swagger, Testing, Linter
? Choose unit framework Jest
? Choose linter tools framework EsLint
? Choose extra linter tools Prettier, Lint on commit
? Choose the package manager: Yarn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Or you can install the package manually:</p> <div class="tabs -code -position-top text-gray-darker"><div class="tabs__header bg-gray-lighter-active"><ul class="reset-list tabs__header--ul -center"></ul></div> <div class="tabs__body  bg-gray-lighter"><!----> <!----> <!----> <!----></div></div> <h2 id="create-your-first-lambda"><a href="#create-your-first-lambda" class="header-anchor">#</a> Create your first Lambda</h2> <p>Create a new folder <code>src/lambda</code> and create a new Ts.ED controller:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Controller<span class="token punctuation">,</span> Inject<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Get<span class="token punctuation">,</span> Returns<span class="token punctuation">,</span> Summary<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/schema&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>QueryParams<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-params&quot;</span><span class="token punctuation">;</span> <span class="token comment">// /!\ don't import decorators from @tsed/common</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>TimeslotsService<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../services/TimeslotsService&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>TimeslotModel<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../models/TimeslotModel&quot;</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Controller</span></span><span class="token punctuation">(</span><span class="token string">&quot;/timeslots&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TimeslotsController</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Inject</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">protected</span> timeslotsService<span class="token operator">:</span> TimeslotsService<span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Get</span></span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Summary</span></span><span class="token punctuation">(</span><span class="token string">&quot;Return a list of timeslots&quot;</span><span class="token punctuation">)</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Returns</span></span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token builtin">Array</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Of</span><span class="token punctuation">(</span>TimeslotModel<span class="token punctuation">)</span>
  <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">QueryParams</span></span><span class="token punctuation">(</span><span class="token string">&quot;date_start&quot;</span><span class="token punctuation">)</span> dateStart<span class="token operator">:</span> Date<span class="token punctuation">,</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">QueryParams</span></span><span class="token punctuation">(</span><span class="token string">&quot;date_end&quot;</span><span class="token punctuation">)</span> dateEnd<span class="token operator">:</span> Date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>timeslotsService<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      dateStart<span class="token punctuation">,</span>
      dateEnd
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>Create new <code>handler.ts</code> to expose your lambda:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token string">&quot;@tsed/ajv&quot;</span><span class="token punctuation">;</span> <span class="token comment">// enable validation</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>PlatformServerless<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-serverless&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>TimeslotsController<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./TimeslotsController.js&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  envs<span class="token operator">:</span> process<span class="token punctuation">.</span>env
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> timeslots <span class="token operator">=</span> PlatformServerless<span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>TimeslotsController<span class="token punctuation">,</span> <span class="token string">&quot;getAll&quot;</span><span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>That's it! You can now deploy your lambda on AWS.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you want to have mode details on how to deploy your lambda
using the Serverless framework, please read the dedicated tutorial <a href="/docs/tutorials/serverless.html">here</a>.</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Our project example provides a full terraform configuration to deploy your lambda on AWS.
See more details on https://github.com/tsedio/tsed-aws-lambda/tree/main/packages/lambda/terraform.</p></div> <h2 id="expose-multiple-lambda-in-one-file"><a href="#expose-multiple-lambda-in-one-file" class="header-anchor">#</a> Expose multiple lambda in one file</h2> <p>You can expose multiple lambda in one file. Just create a new controller with different methods like that:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Controller<span class="token punctuation">,</span> Inject<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Get<span class="token punctuation">,</span> Returns<span class="token punctuation">,</span> Summary<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/schema&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>QueryParams<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-params&quot;</span><span class="token punctuation">;</span> <span class="token comment">// /!\ don't import decorators from @tsed/common</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>TimeslotsService<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../services/TimeslotsService&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>TimeslotModel<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../models/TimeslotModel&quot;</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Controller</span></span><span class="token punctuation">(</span><span class="token string">&quot;/timeslots&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TimeslotsController</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Inject</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">protected</span> timeslotsService<span class="token operator">:</span> TimeslotsService<span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Get</span></span><span class="token punctuation">(</span><span class="token string">&quot;/:id&quot;</span><span class="token punctuation">)</span>
  <span class="token function">getById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// code</span>
  <span class="token punctuation">}</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Get</span></span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Summary</span></span><span class="token punctuation">(</span><span class="token string">&quot;Return a list of timeslots&quot;</span><span class="token punctuation">)</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Returns</span></span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token builtin">Array</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Of</span><span class="token punctuation">(</span>TimeslotModel<span class="token punctuation">)</span>
  <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">QueryParams</span></span><span class="token punctuation">(</span><span class="token string">&quot;date_start&quot;</span><span class="token punctuation">)</span> dateStart<span class="token operator">:</span> Date<span class="token punctuation">,</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">QueryParams</span></span><span class="token punctuation">(</span><span class="token string">&quot;date_end&quot;</span><span class="token punctuation">)</span> dateEnd<span class="token operator">:</span> Date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>timeslotsService<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      dateStart<span class="token punctuation">,</span>
      dateEnd
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>Now we need to expose the all controller methods in the <code>handler.ts</code> file:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token string">&quot;@tsed/ajv&quot;</span><span class="token punctuation">;</span> <span class="token comment">// enable validation</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>PlatformServerless<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-serverless&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>TimeslotsController<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./TimeslotsController.js&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// shared configuration</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  envs<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">,</span>
  lambda<span class="token operator">:</span> <span class="token punctuation">[</span>TimeslotsController<span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      token<span class="token operator">:</span> TimeslotsRepository<span class="token punctuation">,</span>
      useClass<span class="token operator">:</span> DynamoDBTimeslotsRepository
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> platform <span class="token operator">=</span> PlatformServerless<span class="token punctuation">.</span><span class="token function">bootstrap</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> timeslots <span class="token operator">=</span> platform<span class="token punctuation">.</span><span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>When you use the <code>PlatformServerless.bootstrap</code> method, Ts.ED expose an <code>handler</code>
that handle all request to the appropriate controller methods based on the request path.</p> <p>To allow that, you have to configure AWS API Gateway to route all requests to the same lambda.</p> <ul><li>using terraform: https://github.com/tsedio/tsed-aws-lambda/blob/main/packages/lambda/terraform/gateway.tf</li> <li>using serverless: https://github.com/tsedio/tsed-example-aws/blob/master/simple-proxy-api.yaml</li></ul> <h2 id="get-awscontext-and-awsevent"><a href="#get-awscontext-and-awsevent" class="header-anchor">#</a> Get AwsContext and AwsEvent</h2> <p>Ts.ED provides a <code>ServerlessContext</code> abstraction to access the AWS Context and AWS Event.</p> <p>Here an example to access the AWS Context and AWS Event:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Controller<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>QueryParams<span class="token punctuation">,</span> Context<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-params&quot;</span><span class="token punctuation">;</span> <span class="token comment">// /!\ don't import decorators from @tsed/common</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ServerlessContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-serverless&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span>APIGatewayProxyEventV2<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;aws-lambda&quot;</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Controller</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TimeslotsController</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Context</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> $ctx<span class="token operator">:</span> ServerlessContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$ctx<span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// AWS Context</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$ctx<span class="token punctuation">.</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// AWS Event</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$ctx<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">getEvent</span><span class="token generic class-name"><span class="token operator">&lt;</span>APIGatewayProxyEventV2<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// AWS Event with the correct typings</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$ctx<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Response Platform abstraction layer</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$ctx<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Request Platform abstraction layer</span>

    $ctx<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;x-test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="lambda-authorizer"><a href="#lambda-authorizer" class="header-anchor">#</a> Lambda Authorizer</h2> <p>A Lambda authorizer is a Lambda function that you provide to control access to your API. It's a good way to implement a
custom authorization scheme.</p> <blockquote><p>Source: https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html</p></blockquote> <p>To implement a lambda authorizer you have to create a handler as follows:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token string">&quot;@tsed/ajv&quot;</span><span class="token punctuation">;</span> <span class="token comment">// enable validation</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>LambdaAuthorizerController<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@project/controllers/LambdaAuthorizerController.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>PlatformServerless<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-serverless&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// shared configuration</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  envs<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">,</span>
  auth<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> authorizer <span class="token operator">=</span> PlatformServerless<span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>LambdaAuthorizerController<span class="token punctuation">,</span> <span class="token string">&quot;authorizer&quot;</span><span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Then create a new controller to process the Lambda Auth event.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>JwtService<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@project/infra/auth/services/JwtService.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>AwsPolicyService<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@project/infra/aws/auth/AwsPolicyService.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Controller<span class="token punctuation">,</span> Inject<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Context<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-params&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ServerlessContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-serverless&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Description<span class="token punctuation">,</span> Get<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/schema&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span>APIGatewayTokenAuthorizerEvent<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;aws-lambda&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">AuthorizeServerlessContext</span> <span class="token operator">=</span> ServerlessContext<span class="token operator">&lt;</span>APIGatewayTokenAuthorizerEvent<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Controller</span></span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LambdaAuthorizerController</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Inject</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">protected</span> awsPolicyService<span class="token operator">:</span> AwsPolicyService<span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Inject</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">protected</span> jwtService<span class="token operator">:</span> JwtService<span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Get</span></span><span class="token punctuation">(</span><span class="token string">&quot;/authorizer&quot;</span><span class="token punctuation">)</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Description</span></span><span class="token punctuation">(</span><span class="token string">&quot;this endpoint is used to authorize the request using Lambda aws&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">authorizer</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Context</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> $ctx<span class="token operator">:</span> AuthorizeServerlessContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> decodedToken <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>jwtService<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>$ctx<span class="token punctuation">.</span>event<span class="token punctuation">.</span>authorizationToken<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;Bearer &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>user<span class="token punctuation">}</span> <span class="token operator">=</span> decodedToken<span class="token punctuation">.</span>payload<span class="token punctuation">;</span>

    <span class="token comment">// example on how to manage auth and format the response depending on the user scope</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>user<span class="token punctuation">.</span>scopes<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;api&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// not allowed to consume API</span>
      <span class="token keyword">return</span> $ctx<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>awsPolicyService<span class="token punctuation">.</span><span class="token function">generateDeny</span><span class="token punctuation">(</span><span class="token string">&quot;me&quot;</span><span class="token punctuation">,</span> $ctx<span class="token punctuation">.</span>event<span class="token punctuation">.</span>methodArn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>scopes<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;timeslots&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// allowed to consume timeslots</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>awsPolicyService<span class="token punctuation">.</span><span class="token function">generateAllow</span><span class="token punctuation">(</span><span class="token string">&quot;me&quot;</span><span class="token punctuation">,</span> $ctx<span class="token punctuation">.</span>event<span class="token punctuation">.</span>methodArn<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        user
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// no API resource allowed</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>awsPolicyService<span class="token punctuation">.</span><span class="token function">generateDeny</span><span class="token punctuation">(</span><span class="token string">&quot;me&quot;</span><span class="token punctuation">,</span> $ctx<span class="token punctuation">.</span>event<span class="token punctuation">.</span>methodArn<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>In this example we implement an authentication strategy to consume the JWT token. The <code>jwtService</code>
validate/decode the token and extract the scopes. Then we return a policy to allow or deny the request.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Note here, the example use a <code>TOKEN</code> event type. This is why we use <code>APIGatewayTokenAuthorizerEvent</code> interface to enable the correct
type checking. If you use a <code>REQUEST</code> event type use the appropriate interface.</p></div> <p>Let's see the AwsPolicyService:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>UserInfo<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@project/domain/users/UserInfo.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Injectable<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>serialize<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/json-mapper&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">AwsAuthResponse</span> <span class="token punctuation">{</span>
  principalId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  policyDocument<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    Version<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    Statement<span class="token operator">:</span> <span class="token punctuation">{</span>
      Action<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
      Effect<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
      Resource<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  context<span class="token operator">:</span> <span class="token punctuation">{</span>
    user<span class="token operator">?</span><span class="token operator">:</span> UserInfo<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AwsPolicyService</span> <span class="token punctuation">{</span>
  <span class="token comment">// Help function to generate an IAM policy</span>
  <span class="token function">generatePolicy</span><span class="token punctuation">(</span>principalId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> effect<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> resource<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> context<span class="token operator">:</span> AwsAuthResponse<span class="token punctuation">[</span><span class="token string">&quot;context&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> AwsAuthResponse <span class="token punctuation">{</span>
    <span class="token comment">// Required output:</span>
    <span class="token keyword">const</span> authResponse<span class="token operator">:</span> AwsAuthResponse <span class="token operator">=</span> <span class="token punctuation">{</span>
      principalId<span class="token punctuation">,</span>
      <span class="token comment">// Optional output with custom properties of the String, Number or Boolean type.</span>
      context<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>context<span class="token punctuation">,</span>
        user<span class="token operator">:</span> <span class="token function">serialize</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>user<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>effect <span class="token operator">&amp;&amp;</span> resource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      authResponse<span class="token punctuation">.</span>policyDocument <span class="token operator">=</span> <span class="token punctuation">{</span>
        Version<span class="token operator">:</span> <span class="token string">&quot;2012-10-17&quot;</span><span class="token punctuation">,</span>
        Statement<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            Action<span class="token operator">:</span> <span class="token string">&quot;execute-api:Invoke&quot;</span><span class="token punctuation">,</span>
            Effect<span class="token operator">:</span> effect<span class="token punctuation">,</span>
            Resource<span class="token operator">:</span> resource
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> authResponse<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">generateAllow</span><span class="token punctuation">(</span>principalId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> resource<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> context<span class="token operator">:</span> AwsAuthResponse<span class="token punctuation">[</span><span class="token string">&quot;context&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">generatePolicy</span><span class="token punctuation">(</span>principalId<span class="token punctuation">,</span> <span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span> resource<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">generateDeny</span><span class="token punctuation">(</span>principalId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> resource<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> context<span class="token operator">:</span> AwsAuthResponse<span class="token punctuation">[</span><span class="token string">&quot;context&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">generatePolicy</span><span class="token punctuation">(</span>principalId<span class="token punctuation">,</span> <span class="token string">&quot;Deny&quot;</span><span class="token punctuation">,</span> resource<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><p>The most important part is the <code>generatePolicy</code> method that generates the policy response for the AWS Lambda Authorizer.</p> <p>This payload will be used by the AWS API Gateway to allow or deny the request and will be forwarded to the
protected lambda.</p> <p>Here is an example to retrieve the auth context in your lambda:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Controller<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Context<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-params&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ServerlessContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-serverless&quot;</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Controller</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TimeslotsController</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Context</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> $ctx<span class="token operator">:</span> ServerlessContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$ctx<span class="token punctuation">.</span>event<span class="token punctuation">.</span>authorizer<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Show user info serialized by the AwsPolicyService</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="stream-response"><a href="#stream-response" class="header-anchor">#</a> Stream response</h2> <p>AWS support streaming response. To enable this feature, you have to configure your lambda to return a stream response
(see the <a href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-response-streaming.html" target="_blank" rel="noopener noreferrer">AWS documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)
and configure your controller method to tell Ts.ED to generate handler for streaming response.</p> <p>Here an example to stream a response:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Controller<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>BodyParams<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-params&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ServerlessContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-serverless&quot;</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Controller</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">StreamLambda</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Post</span></span><span class="token punctuation">(</span><span class="token string">&quot;/scenario-1/:id&quot;</span><span class="token punctuation">)</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Returns</span></span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> String<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Binary</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">scenario1</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">BodyParams</span></span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Readable<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>
      Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>
        <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token string">&quot;HELLO&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>.Binary()</code> is used to tell Ts.ED to stream the response.</p></div> <p>Here is also an example to test your code:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;Stream&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">beforeEach</span><span class="token punctuation">(</span>
    PlatformServerlessTest<span class="token punctuation">.</span><span class="token function">bootstrap</span><span class="token punctuation">(</span>PlatformServerless<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      lambda<span class="token operator">:</span> <span class="token punctuation">[</span>StreamLambda<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> PlatformServerlessTest<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;scenario1: Post lambda with body and handle response&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should return data&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> PlatformServerlessTest<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&quot;scenario1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">&quot;Test&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        body<span class="token operator">:</span> <span class="token string">'{&quot;id&quot;:&quot;HELLO&quot;}'</span><span class="token punctuation">,</span>
        headers<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/octet-stream&quot;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&quot;x-request-id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;requestId&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        statusCode<span class="token operator">:</span> <span class="token number">200</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="testing"><a href="#testing" class="header-anchor">#</a> Testing</h2> <p>Ts.ED provide a way to test you lambda with mocked Aws event and context by using the <a href="" title="PlatformServerlessTest" class="reset-link symbol-container -bubble "><span><span class="symbol undefined"></span></span> <span class="overflow-hidden truncate ">
    PlatformServerlessTest
  </span></a> util.</p> <p>Here an example to test a Lambda controller:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>PlatformServerlessTest<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-serverless-testing&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>PlatformServerless<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/platform-serverless&quot;</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Controller</span></span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">TimeslotsLambdaController</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Get</span></span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
  <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Get</span></span><span class="token punctuation">(</span><span class="token string">&quot;/:id&quot;</span><span class="token punctuation">)</span>
  <span class="token function">getById</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">PathParams</span></span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">QueryParams</span></span><span class="token punctuation">(</span><span class="token string">&quot;start_date&quot;</span><span class="token punctuation">)</span> startDate<span class="token operator">:</span> Date<span class="token punctuation">,</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">QueryParams</span></span><span class="token punctuation">(</span><span class="token string">&quot;end_date&quot;</span><span class="token punctuation">)</span> endDate<span class="token operator">:</span> Date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      id<span class="token punctuation">,</span>
      startDate<span class="token punctuation">,</span>
      endDate
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;TimeslotsLambdaController&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">beforeEach</span><span class="token punctuation">(</span>
    PlatformServerlessTest<span class="token punctuation">.</span><span class="token function">bootstrap</span><span class="token punctuation">(</span>PlatformServerless<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      lambda<span class="token operator">:</span> <span class="token punctuation">[</span>TimeslotsLambdaController<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> PlatformServerlessTest<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;Invoke by lambda name&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should call getAll Lambda&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> PlatformServerlessTest<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&quot;getAll&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string-property property">&quot;x-request-id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;requestId&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should call getById Lambda&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> PlatformServerlessTest<span class="token punctuation">.</span><span class="token function">request</span>
        <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&quot;getById&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">params</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          id<span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          start_date<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&quot;2020-01-01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          end_date<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&quot;2020-01-10&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string-property property">&quot;x-request-id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;requestId&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
        endDate<span class="token operator">:</span> <span class="token string">&quot;2020-01-10T00:00:00.000Z&quot;</span><span class="token punctuation">,</span>
        startDate<span class="token operator">:</span> <span class="token string">&quot;2020-01-01T00:00:00.000Z&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;invoke using the router&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should call getAll Lambda&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> PlatformServerlessTest<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string-property property">&quot;x-request-id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;requestId&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div></div> </article> <div class="pt-5"><div class="py-5 flex justify-end text-sm"><p><span class="font-bold pr-1">Last Updated:</span> <span class="time">10/17/2024, 5:36:32 AM</span></p></div> <div class="page-nav pt-5 mb-10"><div class="flex align-center justify-between overflow-hidden"><span class="flex align-center justify-center"><a href="/docs/platform-api.html" class="p-2 pr-3 transition duration-500 ease-in-out hover:bg-white-active rounded-small hover:text-white text-md font-medium flex items-center justify-between"><i class="bx bx-chevron-left"></i> <span>
            Platform API
          </span></a></span> <span class="flex align-center justify-center"><a href="/docs/command.html" class="p-2 pl-3 transition duration-500 ease-in-out hover:bg-white-active rounded-small hover:text-white text-md font-medium flex items-center justify-between"><span>
            Command
          </span> <i class="bx bx-chevron-right"></i></a></span></div></div></div> <section slot="page-bottom" class="other-topics px-3"><h4 class="text-xl mb-4 mt-2 font-semibold">
            Other topics
          </h4> <ul class="flex justify-start flex-wrap -mx-1"><li class="p-1"><a href="/tutorials/session.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Session &amp; cookies
      </a></li><li class="p-1"><a href="/tutorials/passport.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Passport.js
      </a></li><li class="p-1"><a href="/tutorials/keycloak.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Keycloak
      </a></li><li class="p-1"><a href="/tutorials/prisma.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Prisma
      </a></li><li class="p-1"><a href="/tutorials/typeorm.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">TypeORM
      </a></li><li class="p-1"><a href="/tutorials/mikroorm.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">MikroORM
      </a></li><li class="p-1"><a href="/tutorials/mongoose.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Mongoose
      </a></li><li class="p-1"><a href="/tutorials/graphql.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">GraphQL
      </a></li><li class="p-1"><a href="/tutorials/graphql-ws.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">GraphQL WS
      </a></li><li class="p-1"><a href="/tutorials/graphql-apollo.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Apollo
      </a></li><li class="p-1"><a href="/tutorials/graphql-typegraphql.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">TypeGraphQL
      </a></li><li class="p-1"><a href="/tutorials/graphql-nexus.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">GraphQL Nexus
      </a></li><li class="p-1"><a href="/tutorials/socket-io.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Socket.io
      </a></li><li class="p-1"><a href="/tutorials/swagger.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Swagger
      </a></li><li class="p-1"><a href="/tutorials/ajv.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">AJV
      </a></li><li class="p-1"><a href="/tutorials/multer.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Multer
      </a></li><li class="p-1"><a href="/tutorials/serve-static-files.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Serve static files
      </a></li><li class="p-1"><a href="/tutorials/templating.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Templating
      </a></li><li class="p-1"><a href="/tutorials/aws.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Serverless HTTP
      </a></li><li class="p-1"><a href="/tutorials/seq.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Seq
      </a></li><li class="p-1"><a href="/tutorials/oidc.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">OIDC
      </a></li><li class="p-1"><a href="/tutorials/stripe.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Stripe
      </a></li><li class="p-1"><a href="/tutorials/agenda.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Agenda
      </a></li><li class="p-1"><a href="/tutorials/terminus.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Terminus
      </a></li><li class="p-1"><a href="/tutorials/serverless.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Serverless
      </a></li><li class="p-1"><a href="/tutorials/server-sent-events.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Server-sent events
      </a></li><li class="p-1"><a href="/tutorials/ioredis.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">IORedis
      </a></li><li class="p-1"><a href="/tutorials/vike.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Vike
      </a></li><li class="p-1"><a href="/tutorials/jest.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Jest
      </a></li><li class="p-1"><a href="/tutorials/vitest.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Vitest
      </a></li><li class="p-1"><a href="/docs/controllers.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Controllers
      </a></li><li class="p-1"><a href="/docs/providers.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Providers
      </a></li><li class="p-1"><a href="/docs/model.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Model
      </a></li><li class="p-1"><a href="/docs/json-mapper.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">JsonMapper
      </a></li><li class="p-1"><a href="/docs/middlewares.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Middlewares
      </a></li><li class="p-1"><a href="/docs/pipes.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Pipes
      </a></li><li class="p-1"><a href="/docs/interceptors.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Interceptors
      </a></li><li class="p-1"><a href="/docs/authentication.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Authentication
      </a></li><li class="p-1"><a href="/docs/hooks.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Hooks
      </a></li><li class="p-1"><a href="/docs/exceptions.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Exceptions
      </a></li><li class="p-1"><a href="/docs/throw-http-exceptions.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Throw HTTP Exceptions
      </a></li><li class="p-1"><a href="/docs/cache.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Cache
      </a></li><li class="p-1"><a href="/docs/command.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Command
      </a></li><li class="p-1"><a href="/docs/response-filter.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Response Filter
      </a></li><li class="p-1"><a href="/docs/injection-scopes.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Injection scopes
      </a></li><li class="p-1"><a href="/docs/custom-providers.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Custom providers
      </a></li><li class="p-1"><a href="/docs/providers-lazy-loading.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Lazy-loading provider
      </a></li><li class="p-1"><a href="/docs/custom-endpoint-decorators.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Custom endpoint decorator
      </a></li><li class="p-1"><a href="/docs/testing.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Testing
      </a></li><li class="p-1"><a href="/docs/not-found-page.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Customize 404
      </a></li></ul> </section></div></div> <aside class="page-sidebar fixed overflow-auto"> <ul class="page-sidebar-sub-headers"><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#features" class="page-sidebar-link ">Features</a></li><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#unsupported-features" class="page-sidebar-link ">Unsupported features</a></li><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#rule" class="page-sidebar-link ">Rule</a></li><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#projects-example" class="page-sidebar-link ">Projects example</a></li><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#installation" class="page-sidebar-link ">Installation</a></li><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#create-your-first-lambda" class="page-sidebar-link ">Create your first Lambda</a></li><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#expose-multiple-lambda-in-one-file" class="page-sidebar-link ">Expose multiple lambda in one file</a></li><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#get-awscontext-and-awsevent" class="page-sidebar-link ">Get AwsContext and AwsEvent</a></li><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#lambda-authorizer" class="page-sidebar-link ">Lambda Authorizer</a></li><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#stream-response" class="page-sidebar-link ">Stream response</a></li><li class="page-sidebar-sub-header"><a href="/docs/platform-serverless.html#testing" class="page-sidebar-link ">Testing</a></li></ul> </aside></div></div></main> <aside class="sidebar -translate-x-100 md:shadow-sidebar md:translate-x-0"> <ul class="reset-list py-5"><li><div class="mb-2"><a href="/getting-started/" class="sidebar-link relative block py-2 font-bold text-gray-darker text-md px-5">Introduction</a></div></li><li><div class="mb-2"><a href="/getting-started/start-with-cli.html" class="sidebar-link relative block py-2 font-bold text-gray-darker text-md px-5">Create new project</a></div></li><li><div class="mb-2"><a href="/getting-started/create-your-first-controller.html" class="sidebar-link relative block py-2 font-bold text-gray-darker text-md px-5">Create your first controller</a></div></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Migration</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1 open"><span class="flex-1">Documentation</span> <i class="bx bx-chevron-down text-xl transition-all"></i></p> <ul><li><a href="/docs/configuration.html" class="sidebar-link relative block py-2 pl-7">Configuration</a></li><li><a href="/docs/controllers.html" class="sidebar-link relative block py-2 pl-7">Controllers</a></li><li><a href="/docs/providers.html" class="sidebar-link relative block py-2 pl-7">Providers</a></li><li><a href="/docs/model.html" class="sidebar-link relative block py-2 pl-7">Models</a></li><li><a href="/docs/json-mapper.html" class="sidebar-link relative block py-2 pl-7">Json Mapper</a></li><li><a href="/docs/middlewares.html" class="sidebar-link relative block py-2 pl-7">Middlewares</a></li><li><a href="/docs/pipes.html" class="sidebar-link relative block py-2 pl-7">Pipes</a></li><li><a href="/docs/interceptors.html" class="sidebar-link relative block py-2 pl-7">Interceptors</a></li><li><a href="/docs/authentication.html" class="sidebar-link relative block py-2 pl-7">Authentication</a></li><li><a href="/docs/hooks.html" class="sidebar-link relative block py-2 pl-7">Hooks</a></li><li><a href="/docs/response-filter.html" class="sidebar-link relative block py-2 pl-7">Response filter</a></li><li><a href="/docs/exceptions.html" class="sidebar-link relative block py-2 pl-7">Exceptions</a></li><li><a href="/docs/logger.html" class="sidebar-link relative block py-2 pl-7">Logger</a></li><li><a href="/docs/request-context.html" class="sidebar-link relative block py-2 pl-7">Context</a></li><li><a href="/docs/cache.html" class="sidebar-link relative block py-2 pl-7">Cache</a></li><li><a href="/docs/platform-api.html" class="sidebar-link relative block py-2 pl-7">Platform API</a></li><li><a href="/docs/platform-serverless.html" aria-current="page" class="active sidebar-link relative block py-2 pl-7">Platform Serverless</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#features" class="sidebar-link relative block py-2 ">Features</a></li><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#unsupported-features" class="sidebar-link relative block py-2 ">Unsupported features</a></li><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#rule" class="sidebar-link relative block py-2 ">Rule</a></li><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#projects-example" class="sidebar-link relative block py-2 ">Projects example</a></li><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#installation" class="sidebar-link relative block py-2 ">Installation</a></li><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#create-your-first-lambda" class="sidebar-link relative block py-2 ">Create your first Lambda</a></li><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#expose-multiple-lambda-in-one-file" class="sidebar-link relative block py-2 ">Expose multiple lambda in one file</a></li><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#get-awscontext-and-awsevent" class="sidebar-link relative block py-2 ">Get AwsContext and AwsEvent</a></li><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#lambda-authorizer" class="sidebar-link relative block py-2 ">Lambda Authorizer</a></li><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#stream-response" class="sidebar-link relative block py-2 ">Stream response</a></li><li class="sidebar-sub-header"><a href="/docs/platform-serverless.html#testing" class="sidebar-link relative block py-2 ">Testing</a></li></ul></li><li><a href="/docs/command.html" class="sidebar-link relative block py-2 pl-7">Command</a></li><li><a href="/docs/templating.html" class="sidebar-link relative block py-2 pl-7">Templating</a></li><li><a href="/docs/validation.html" class="sidebar-link relative block py-2 pl-7">Validation</a></li><li><a href="/tutorials/session.html" class="sidebar-link relative block py-2 pl-7">Session &amp; Cookies</a></li><li><a href="/docs/testing.html" class="sidebar-link relative block py-2 pl-7">Testing</a></li></ul></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Advanced</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Plugins</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Extras</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li></ul> </aside> <footer class="relative z-2"><div class="px-5 md:px-10 max-w-site m-auto"><div class="page-content py-5"><div class="flex items-center"><div class="flex-1"><h4 class="text-xl mb-4 mt-2 px-2 font-semibold">Support us</h4> <div class="content__default"><p>
            Ts.ED is an MIT-licensed open source project. It can grow thanks to the support by the
            community. If
            you'd like to join them, please read more <a href="/support.html">here</a>.
          </p> <div class="flex items-center justify-center pt-5 mt-5 mb-5"><a href="https://tsed.io/support.html" title="" target="_blank" rel="noopener noreferrer" class="link external reset-link inline-flex flex-col items-stretch overflow-hidden text-base transition-colors
  bg-white-button border-blue text-blue focus:bg-white-button-active focus:border-blue-active
  hover:bg-white-button-active hover:border-blue-active focus:text-blue-active hover:text-blue-active
   cursor-pointer border-1 border-solid rounded-medium shadow-none"><span class="flex justify-center items-center w-full font-bold px-4 py-1"><span class="m-1 text-center flex justify-center items-center">
              Become sponsor
            </span></span> <!----></a></div></div></div></div></div></div>  <div class="px-5 md:px-10  m-auto bg-code-active relative"><div class="pt-5 pb-8 text-center text-white"><div class="flex items-center"><div class="flex-1 flex items-center justify-center"><a title="Github" href="https://github.com/tsedio/tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex flex align-center justify-center text-xl py-4 mx-2"><i class="bx bxl-github"></i> </a><a title="Slack" href="https://api.tsed.io/rest/slack/tsedio/tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex flex align-center justify-center text-xl py-4 mx-2"><i class="bx bxl-slack"></i> </a><a title="Twitter" href="https://twitter.com/TsED_io" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex flex align-center justify-center text-xl py-4 mx-2"><i class="bx bxl-twitter"></i> </a><a title="StackOverflow" href="https://stackoverflow.com/search?q=tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex flex align-center justify-center text-xl py-4 mx-2"><i class="bx bxl-stack-overflow"></i> </a></div> <div class="absolute top-0 right-0 pt-5 pr-8 pr-10"><div class="relative inline-flex w-auto"><!----> <span class="text-xs py-1 px-2 absolute right-0 rounded-medium rounded-bl-small bg-white text-blue" style="top:-12px;right:-28px;">0</span></div></div></div> <div class="w-full max-w-site m-auto"><div class="flex flex-col sm:flex-row text-center sm:text-left items-start content-center justify-between pt-5 sm:mb-5 sm:py-5"><div class="flex-1 w-full sm:w-auto mb-8 sm:mb-0"><h3 class="font-bold uppercase text-lg pb-4 transition-colors duration-300 ease-linear">
    Discover
  </h3> <ul class="transition-colors duration-300 ease-linear"><li class="py-2"><a href="/team.html" aria-current="page" class="link internal text-gray-light font-bold hover:text-blue-active"><!----> 
        Our team
      </a></li><li class="py-2"><a href="https://form.typeform.com/to/uJLP7anG" target="_blank" rel="noopener noreferrer" aria-current="page" class="link external text-gray-light font-bold hover:text-blue-active">
        Contact us
       <!----></a></li></ul></div> <div class="flex-1 w-full sm:w-auto mb-8 sm:mb-0 sm:text-center"><h3 class="font-bold uppercase text-lg pb-4 transition-colors duration-300 ease-linear">
    Help
  </h3> <ul class="transition-colors duration-300 ease-linear"><li class="py-2"><a href="/tutorials/index.html" aria-current="page" class="link internal text-gray-light font-bold hover:text-blue-active"><!----> 
        Resources
      </a></li><li class="py-2"><a href="https://api.tsed.io/rest/slack/tsedio/tsed" target="_blank" rel="noopener noreferrer" aria-current="page" class="link external text-gray-light font-bold hover:text-blue-active">
        Chat with us
       <!----></a></li><li class="py-2"><a href="/contributing.html" aria-current="page" class="link internal text-gray-light font-bold hover:text-blue-active"><!----> 
        Contribution guide
      </a></li></ul></div> <div class="flex-1 w-full sm:w-auto mb-8 sm:mb-0 sm:text-right"><h3 class="font-bold uppercase text-lg pb-4 transition-colors duration-300 ease-linear">
    Support
  </h3> <ul class="transition-colors duration-300 ease-linear"><li class="py-2"><a href="https://github.com/tsedio/tsed/issues" target="_blank" rel="noopener noreferrer" aria-current="page" class="link external text-gray-light font-bold hover:text-blue-active">
        Issues
       <!----></a></li><li class="py-2"><a href="/support.html" aria-current="page" class="link internal text-gray-light font-bold hover:text-blue-active"><!----> 
        Sponsoring &amp; donations
      </a></li></ul></div></div></div> <div class="text-sm">
        Copyright © 2016-2024 <a href="/license.html" class="text-blue font-bold hover:text-blue-active">MIT License</a> <span class="inline-block text-gray-light px-1">|</span> By
        Lenzotti Romain
      </div></div></div> </footer></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.dadcf6fb.js" defer></script><script src="/assets/js/2.6953d4db.js" defer></script><script src="/assets/js/41.6cd89c46.js" defer></script>
  </body>
</html>
